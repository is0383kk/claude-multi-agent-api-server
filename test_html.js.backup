// Node.js script to test HTML parsing and JavaScript validation
const fs = require('fs');
const { JSDOM } = require('jsdom');

try {
    console.log('ğŸ§ª HTMLãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ†ã‚¹ãƒˆã‚’é–‹å§‹ã—ã¾ã™...\n');
    
    // Read the HTML file
    const htmlContent = fs.readFileSync('examples/index.html', 'utf8');
    console.log('âœ… HTMLãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿æˆåŠŸ');
    
    // Parse the HTML with JSDOM
    const dom = new JSDOM(htmlContent, { 
        runScripts: "dangerously",
        resources: "usable" 
    });
    
    const document = dom.window.document;
    console.log('âœ… HTMLã®è§£ææˆåŠŸ');
    
    // Test basic structure
    console.log('\nğŸ” HTMLæ§‹é€ ã®ãƒ†ã‚¹ãƒˆ:');
    
    const title = document.querySelector('title');
    console.log(`  ã‚¿ã‚¤ãƒˆãƒ«: ${title ? title.textContent : 'ãªã—'}`);
    
    const containers = document.querySelectorAll('.container');
    console.log(`  ã‚³ãƒ³ãƒ†ãƒŠæ•°: ${containers.length}`);
    
    const cards = document.querySelectorAll('.card');
    console.log(`  ã‚«ãƒ¼ãƒ‰æ•°: ${cards.length}`);
    
    const buttons = document.querySelectorAll('button');
    console.log(`  ãƒœã‚¿ãƒ³æ•°: ${buttons.length}`);
    
    const inputs = document.querySelectorAll('input, textarea, select');
    console.log(`  å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ•°: ${inputs.length}`);
    
    // Test for key elements
    console.log('\nğŸ” é‡è¦ãªè¦ç´ ã®ãƒ†ã‚¹ãƒˆ:');
    
    const promptInput = document.querySelector('#prompt');
    console.log(`  ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå…¥åŠ›: ${promptInput ? 'âœ… å­˜åœ¨' : 'âŒ ä¸åœ¨'}`);
    
    const executeButton = document.querySelector('#executeButton');
    console.log(`  å®Ÿè¡Œãƒœã‚¿ãƒ³: ${executeButton ? 'âœ… å­˜åœ¨' : 'âŒ ä¸åœ¨'}`);
    
    const sessionSelect = document.querySelector('#sessionSelect');
    console.log(`  ã‚»ãƒƒã‚·ãƒ§ãƒ³é¸æŠ: ${sessionSelect ? 'âœ… å­˜åœ¨' : 'âŒ ä¸åœ¨'}`);
    
    const languageSelect = document.querySelector('#languageSelect');
    console.log(`  è¨€èªé¸æŠ: ${languageSelect ? 'âœ… å­˜åœ¨' : 'âŒ ä¸åœ¨'}`);
    
    // Test accessibility
    console.log('\nâ™¿ ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã®ãƒ†ã‚¹ãƒˆ:');
    
    const labelsWithFor = document.querySelectorAll('label[for]');
    console.log(`  ãƒ©ãƒ™ãƒ«ã¨ãƒ•ã‚©ãƒ¼å±æ€§: ${labelsWithFor.length}å€‹`);
    
    const ariaLabels = document.querySelectorAll('[aria-label]');
    console.log(`  ARIA ãƒ©ãƒ™ãƒ«: ${ariaLabels.length}å€‹`);
    
    const roleElements = document.querySelectorAll('[role]');
    console.log(`  ãƒ­ãƒ¼ãƒ«å±æ€§: ${roleElements.length}å€‹`);
    
    console.log('\nâœ… HTMLãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ†ã‚¹ãƒˆå®Œäº†ï¼');
    
} catch (error) {
    console.error('âŒ ãƒ†ã‚¹ãƒˆä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ:', error.message);
}